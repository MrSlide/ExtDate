{"version":3,"file":null,"sources":["../src/ExtDate.js"],"sourcesContent":["'use strict'\n\n/**\n * @name ExtDate\n * @desc Extends the native Date object with new useful methods.\n * @author Luis Rodrigues (http://www.luisrodriguesweb.com)\n * @version 1.0.0\n * @license MIT\n */\n\nconst extDateMethods = {\n  /**\n   * Sets the time of the day to 00:00:00.000 for a specified date according to local or univeral time.\n   *\n   * @memberof ExtDate\n   * @private\n   * @param {?Boolean} [utc] - Set to `true` to perform operations in univeral time.\n   * @return {Number} - The number of milliseconds since 1 January 1970 00:00:00 UTC.\n   * @since 0.1.0\n   */\n  _setStartOfDay: function _setStartOfDay (utc) {\n    utc = utc ? 'UTC' : ''\n\n    this[`set${utc}Milliseconds`](0)\n    this[`set${utc}Seconds`](0)\n    this[`set${utc}Minutes`](0)\n    this[`set${utc}Hours`](0)\n\n    return this.getTime()\n  },\n\n  /**\n   * Sets the time of the day to 00:00:00.000 for a specified date according to local time.\n   *\n   * @memberof ExtDate\n   * @public\n   * @return {Number} - The number of milliseconds since 1 January 1970 00:00:00 UTC.\n   * @since 0.1.0\n   *\n   * @example\n   * dateInstance.setStartOfDay()\n   */\n  setStartOfDay: function setStartOfDay () {\n    return this._setStartOfDay()\n  },\n\n  /**\n   * Sets the time of the day to 00:00:00.000 for a specified date according to universal time.\n   *\n   * @memberof ExtDate\n   * @public\n   * @return {Number} - The number of milliseconds since 1 January 1970 00:00:00 UTC.\n   * @since 0.1.0\n   *\n   * @example\n   * dateInstance.setUTCStartOfDay()\n   */\n  setUTCStartOfDay: function setUTCStartOfDay () {\n    return this._setStartOfDay(true)\n  },\n\n  /**\n   * Sets the first day of the year for a specified date according to local or univeral time.\n   *\n   * @memberof ExtDate\n   * @private\n   * @param {?Number} [year] - If not specified, the year of the specified date will remain unchanged.\n   * @param {?Boolean} [utc] - Set to `true` to perform operations in univeral time.\n   * @return {Number} - The number of milliseconds since 1 January 1970 00:00:00 UTC.\n   * @since 0.1.0\n   */\n  _setFirstDayOfYear: function _setFirstDayOfYear (year, utc) {\n    utc = utc ? 'UTC' : ''\n\n    this._setStartOfDay(!!utc)\n\n    this[`set${utc}Date`](1)\n    this[`set${utc}Month`](0)\n\n    if (year) {\n      this[`set${utc}FullYear`](year)\n    }\n\n    return this.getTime()\n  },\n\n  /**\n   * Sets the first day of the year for a specified date according to local time.\n   *\n   * @memberof ExtDate\n   * @public\n   * @param {?Number} [year] - If not specified, the year of the specified date will remain unchanged.\n   * @return {Number} - The number of milliseconds since 1 January 1970 00:00:00 UTC.\n   * @since 0.1.0\n   *\n   * @example\n   * dateInstance.setFirstDayOfYear(2016)\n   */\n  setFirstDayOfYear: function setFirstDayOfYear (year) {\n    return this._setFirstDayOfYear(year)\n  },\n\n  /**\n   * Sets the first day of the year for a specified date according to universal time.\n   *\n   * @memberof ExtDate\n   * @public\n   * @param {?Number} [year] - If not specified, the year of the specified date will remain unchanged.\n   * @return {Number} - The number of milliseconds since 1 January 1970 00:00:00 UTC.\n   * @since 0.1.0\n   *\n   * @example\n   * dateInstance.setUTCFirstDayOfYear(2016)\n   */\n  setUTCFirstDayOfYear: function setUTCFirstDayOfYear (year) {\n    return this._setFirstDayOfYear(year, true)\n  },\n\n  /**\n   * Returns the day of the year for a specified date according to local time.\n   *\n   * @memberof ExtDate\n   * @private\n   * @param {?Boolean} [utc] - Set to `true` to perform operations in univeral time.\n   * @return {Number} - The day of the year for the specified date.\n   * @since 0.1.0\n   */\n  _getDayOfYear: function _getDayOfYear (utc) {\n    utc = utc ? 'UTC' : ''\n\n    const helperDate = new Date(this.getTime())\n\n    let dayCount = helperDate[`get${utc}Date`]()\n    let i = helperDate[`get${utc}Month`]()\n\n    while (i > 0) {\n      helperDate[`set${utc}Date`](0)\n      dayCount += helperDate[`get${utc}Date`]()\n\n      i--\n    }\n\n    return dayCount\n  },\n\n  /**\n   * Returns the day of the year for a specified date according to local time.\n   *\n   * @memberof ExtDate\n   * @public\n   * @return {Number} - The day of the year for the specified date.\n   * @since 0.1.0\n   *\n   * @example\n   * var dayfOfYear = dateInstance.getDayOfYear()\n   */\n  getDayOfYear: function getDayOfYear () {\n    return this._getDayOfYear()\n  },\n\n  /**\n   * Returns the day of the year for a specified date according to universal time.\n   *\n   * @memberof ExtDate\n   * @public\n   * @return {Number} - The day of the year for the specified date.\n   * @since 0.1.0\n   *\n   * @example\n   * var dayfOfYear = dateInstance.getUTCDayOfYear()\n   */\n  getUTCDayOfYear: function getUTCDayOfYear () {\n    return this._getDayOfYear(true)\n  },\n\n  /**\n   * Sets the day of the year for a specified date according to local or universal time.\n   *\n   * @memberof ExtDate\n   * @private\n   * @param {Number} day - An integer between 1 and 365 (or 366, if the year is a leap year) representing the day of the year.\n   * @param {?Number} [year] - If not specified, the year of the specified date will remain unchanged.\n   * @param {?Boolean} [utc] - Set to `true` to perform operations in univeral time.\n   * @return {Number} - The number of milliseconds since 1 January 1970 00:00:00 UTC.\n   * @since 0.1.0\n   */\n  _setDayOfYear: function _setDayOfYear (day, year, utc) {\n    utc = utc ? 'UTC' : ''\n\n    if (year) {\n      this[`set${utc}FullYear`](year)\n    }\n\n    this._setFirstDayOfYear(year, !!utc)\n    this[`set${utc}Date`](day)\n\n    return this.getTime()\n  },\n\n  /**\n   * Sets the day of the year for a specified date according to local time.\n   *\n   * @memberof ExtDate\n   * @public\n   * @param {Number} day - An integer between 1 and 365 (or 366, if the year is a leap year) representing the day of the year.\n   * @param {?Number} [year] - If not specified, the year of the specified date will remain unchanged.\n   * @return {Number} - The number of milliseconds since 1 January 1970 00:00:00 UTC.\n   * @since 0.1.0\n   *\n   * @example\n   * dateInstance.setDayOfYear(45, 2016)\n   */\n  setDayOfYear: function setDayOfYear (day, year) {\n    return this._setDayOfYear(day, year)\n  },\n\n  /**\n   * Sets the day of the year for a specified date according to universal time.\n   *\n   * @memberof ExtDate\n   * @public\n   * @param {Number} day - An integer between 1 and 365 (or 366, if the year is a leap year) representing the day of the year.\n   * @param {?Number} [year] - If not specified, the year of the specified date will remain unchanged.\n   * @return {Number} - The number of milliseconds since 1 January 1970 00:00:00 UTC.\n   * @since 0.1.0\n   *\n   * @example\n   * dateInstance.setUTCDayOfYear(45, 2016)\n   */\n  setUTCDayOfYear: function setUTCDayOfYear (day, year) {\n    return this._setDayOfYear(day, year, true)\n  },\n\n  /**\n   * Sets the first day of the first week of the year for a specified date according to local or univeral time.\n   *\n   * @memberof ExtDate\n   * @private\n   * @param {?Number} [year] - If not specified, the year of the specified date will remain unchanged.\n   * @param {?Boolean} [utc] - Set to `true` to perform operations in univeral time.\n   * @return {Number} - The number of milliseconds since 1 January 1970 00:00:00 UTC.\n   * @since 0.1.0\n   */\n  _setFirstWeekOfYear: function _setFirstWeekOfYear (year, utc) {\n    utc = utc ? 'UTC' : ''\n\n    this._setFirstDayOfYear(year, !!utc)\n    let offset\n\n    // Weeks start on Mondays\n    let day = this[`get${utc}Day`]() - 1\n\n    if (day < 0) {\n      day = 6\n    }\n\n    // The first week of the year must include the 4th of January\n    if (day > 3) {\n      offset = 7 - day\n    } else {\n      offset = -day\n    }\n\n    // Adjust the date with the calculated offset\n    this[`set${utc}Date`](this[`get${utc}Date`]() + offset)\n\n    return this.getTime()\n  },\n\n  /**\n   * Sets the first day of the first week of the year for a specified date according to local time.\n   *\n   * @memberof ExtDate\n   * @public\n   * @param {?Number} [year] - If not specified, the year of the specified date will remain unchanged.\n   * @return {Number} - The number of milliseconds since 1 January 1970 00:00:00 UTC.\n   * @since 0.1.0\n   *\n   * @example\n   * dateInstance.setFirstWeekOfYear(2016)\n   */\n  setFirstWeekOfYear: function setFirstWeekOfYear (year) {\n    return this._setFirstWeekOfYear(year)\n  },\n\n  /**\n   * Sets the first day of the first week of the year for a specified date according to universal time.\n   *\n   * @memberof ExtDate\n   * @public\n   * @param {?Number} [year] - If not specified, the year of the specified date will remain unchanged.\n   * @return {Number} - The number of milliseconds since 1 January 1970 00:00:00 UTC.\n   * @since 0.1.0\n   *\n   * @example\n   * dateInstance.setUTCFirstWeekOfYear(2016)\n   */\n  setUTCFirstWeekOfYear: function setUTCFirstWeekOfYear (year) {\n    return this._setFirstWeekOfYear(year, true)\n  },\n\n  /**\n   * Sets the first day of a week number for a specified date according to local or universal time.\n   *\n   * @memberof ExtDate\n   * @private\n   * @param {Number} week - An integer between 1 and 53, representing the week.\n   * @param {?Number} [year] - If not specified, the year of the specified date will remain unchanged.\n   * @param {?Boolean} [utc] - Set to `true` to perform operations in univeral time.\n   * @return {Number} - The number of milliseconds since 1 January 1970 00:00:00 UTC.\n   * @since 0.1.0\n   */\n  _setWeek: function _setWeek (week, year, utc) {\n    utc = utc ? 'UTC' : ''\n\n    const offset = (week - 1) * 7\n\n    this._setFirstWeekOfYear(year, !!utc)\n    this[`set${utc}Date`](this[`get${utc}Date`]() + offset)\n\n    return this.getTime()\n  },\n\n  /**\n   * Sets the first day of a week number for a specified date according to local time.\n   *\n   * @memberof ExtDate\n   * @public\n   * @param {Number} week - An integer between 1 and 53, representing the week.\n   * @param {?Number} [year] - If not specified, the year of the specified date will remain unchanged.\n   * @return {Number} - The number of milliseconds since 1 January 1970 00:00:00 UTC.\n   * @since 0.1.0\n   *\n   * @example\n   * dateInstance.setWeek(2, 2016)\n   */\n  setWeek: function setWeek (week, year) {\n    return this._setWeek(week, year)\n  },\n\n  /**\n   * Sets the first day of a week number for a specified date according to universal time.\n   *\n   * @memberof ExtDate\n   * @public\n   * @param {Number} week - An integer between 1 and 53, representing the week.\n   * @param {?Number} [year] - If not specified, the year of the specified date will remain unchanged.\n   * @return {Number} - The number of milliseconds since 1 January 1970 00:00:00 UTC.\n   * @since 0.1.0\n   *\n   * @example\n   * dateInstance.setUTCWeek(2, 2016)\n   */\n  setUTCWeek: function setUTCWeek (week, year) {\n    return this._setWeek(week, year, true)\n  },\n\n  /**\n   * Gets the week number of the specified date according to local or universal time.\n   *\n   * @memberof ExtDate\n   * @private\n   * @param {?Boolean} [utc] - Set to `true` to perform operations in univeral time.\n   * @return {Number} - The ISO week number.\n   * @since 0.1.0\n   */\n  _getWeek: function _getWeek (utc) {\n    utc = utc ? 'UTC' : ''\n\n    const day = this._getDayOfYear(!!utc)\n    const weekDay = this[`get${utc}Day`]() || 7\n    const week = Math.floor((day - weekDay + 10) / 7)\n\n    return week !== 53 ? week : 1\n  },\n\n  /**\n   * Gets the week number of the specified date according to local time.\n   *\n   * @memberof ExtDate\n   * @public\n   * @return {Number} - The ISO week number.\n   * @since 0.1.0\n   *\n   * @example\n   * var weekNumber = dateInstance.getWeek()\n   */\n  getWeek: function getWeek () {\n    return this._getWeek()\n  },\n\n  /**\n   * Gets the week number of the specified date according to universal time.\n   *\n   * @memberof ExtDate\n   * @public\n   * @return {Number} - The ISO week number.\n   * @since 0.1.0\n   *\n   * @example\n   * var weekNumber = dateInstance.getUTCWeek()\n   */\n  getUTCWeek: function getUTCWeek () {\n    return this._getWeek(true)\n  }\n}\n\n/**\n * Copy the properties of one object into another.\n *\n * @param {Object} src - The object to get the properties from.\n * @param {Object} dest - The object to copy the properties into.\n * @return {Object} - The extended object\n * @since 0.1.0\n */\nfunction extend (src, dest) {\n  const keys = Object.keys(src)\n\n  keys.forEach(function (prop) {\n    Object.defineProperty(dest, prop, {\n      value: src[prop],\n      enumerable: false,\n      configurable: false,\n      writable: false\n    })\n  })\n\n  return dest\n}\n\n/**\n * Creates an instance of ExtDate which implements new methods for\n * the Date object.\n *\n * @function\n * @constructs\n * @public\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date\n * @return {Date|String} - The Date instance with the added methods, or a string representation of the date if called as a function.\n * @since 0.1.0\n *\n * @example\n * var currentDateTime = ExtDate()\n *\n * @example\n * new ExtDate()\n * new ExtDate(547979648008)\n * new ExtDate('1995-12-17T03:24:00')\n * new ExtDate(1995, 11, 17)\n * new ExtDate(1995, 11, 17, 3, 24, 0)\n */\nexport default function ExtDate (year, month, day, hour, minutes, seconds, milliseconds) {\n  if (!(this instanceof ExtDate)) {\n    return Date(...arguments)\n  }\n\n  // Create a Date instance to use internally\n  const date = new Date(...arguments)\n\n  return extend(extDateMethods, date)\n}\n\n// Extend ExtDate with Date's static methods\nconst staticProps = Object.getOwnPropertyNames(Date)\n\nstaticProps.forEach(function (prop) {\n  if (typeof Date[prop] === 'function') {\n    Object.defineProperty(ExtDate, prop, {\n      value: Date[prop],\n      enumerable: false,\n      configurable: false,\n      writable: false\n    })\n  }\n})\n"],"names":[],"mappings":"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"}